(function(d){d.fn.flipster=function(){function p(){var b=parseInt(d(".flipster-current")[0].clientHeight,10);h.height(b+b/3+"px")}function l(b){"left"===b&&0<g?g--:"right"===b&&g<e.length-1&&g++;"number"===typeof b&&(g=b);n()}function n(){for(var b=0,f=0,a=0;a<e.length;a++){var k=d(e[a]),c=k[0].clientWidth*t.sideSpacing;k.removeClass("flipster-left flipster-right flipster-current");a<g?k.addClass("flipster-left").css("z-index",a).css("left",a*c+"px"):a===g?(b=c/1.2,k.addClass("flipster-current").css("z-index",
5E3).css("left",a*c+b+"px"),f=(a-1)*c-b-d(".flipster-current")[0].clientWidth/2,b=2*(c/1.2)):k.addClass("flipster-right").css("z-index",e.length-a).css("left",a*c+b+"px")}b=-1*f+"px";if(q){f=d(".flipster-left");k=d(".flipster-right");d(".flipster-current").css("zoom","1.0");for(a=0;a<f.length;a++)d(f[a]).css("zoom",100-5*(f.length-a)+"%");for(a=0;a<k.length;a++)d(k[a]).css("zoom",100-5*(a+1)+"%");h.animate({left:b},333)}else h.css("left",b)}function u(){c=0}this.addClass("flipster");this.hide();var r=
this,h=this.find("ul"),e=this.find("li"),g=0,m=0,c=0,s,q=!1,t={sideSpacing:0.57};d(window).load(function(){var b="\v"=="v",f=document.createElement("b");f.innerHTML="\x3c!--[if IE 9]><i></i><![endif]--\x3e";f=1==f.getElementsByTagName("i").length;if(b||f)q=!0,r.addClass("compatibility");g=!e.length%2?e.length/2+1:Math.floor(e.length/2);h.css("left","0px");r.show();n();p();d(window).resize(function(){n();p()});d(window).on("keydown.flipster",function(a){a.preventDefault();c++;if(0===c%7||1===c)a=a.which,
37==a&&0<g?l("left"):39==a&&g<e.length-1&&l("right")});d(window).on("keyup.flipster",function(a){c=0});h.on("mousewheel.flipster",function(a){s=window.setTimeout(u,500);c++;if(0===c%4||1===c)window.clearTimeout(s),a.originalEvent.wheelDeltaX>e[0].clientWidth/1.75?l("left"):a.originalEvent.wheelDeltaX<-1*e[0].clientWidth/1.75&&l("right")});h.on("touchstart.flipster",function(a){m=a.originalEvent.targetTouches[0].screenX});h.on("touchmove.flipster",function(a){a.preventDefault();a=a.originalEvent.targetTouches[0].screenX;
var b=a-m;b>e[0].clientWidth/1.75?(l("left"),m=a):b<-1*(e[0].clientWidth/1.75)&&(l("right"),m=a)});h.on("touchend.flipster",function(a){m=0});h.on("click.flipster",".flipster-left, .flipster-right",function(a){a.preventDefault();l(e.index(this))})});return this}})(jQuery);
