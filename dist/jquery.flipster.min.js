/*! jquery.flipster, built 2015-05-20 */
!function(a,b,c){function d(a,b){var c=null;return function(){var d=this,e=arguments;null===c&&(c=setTimeout(function(){a.apply(d,e),c=null},b))}}function e(a){var b=document.createElement("div"),c=b.style,d=a.charAt(0).toUpperCase()+a.slice(1),e=["webkit","moz","ms","o"],f=(a+" "+e.join(d+" ")+d).split(" ");for(var g in f)if(f[g]in c)return f[g];return!1}var f=e("transform");a.fn.flipster=function(e){"use strict";var g="string"==typeof e?!0:!1;if(g){var h=e,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var b=a(this).data("methods");return b[h]?b[h].apply(this,i):this})}var j={itemContainer:"ul",itemSelector:"li",start:"center",loop:!0,style:"coverflow",spacing:-.5,disableRotation:!1,enableKeyboard:!0,enableMousewheel:!0,enableTouch:!0,onItemSwitch:a.noop,enableNav:!1,navPosition:"before",enableNavButtons:!1,prevText:"Previous",nextText:"Next",autoplay:!1,autoplayInterval:5e3},k=a.extend({},j,e),l=a(b),m={main:"flipster",active:"flipster--active",container:"flipster__container",nav:"flipster__nav",navChild:"flipster__nav__child",navItem:"flipster__nav__item",navLink:"flipster__nav__link",navCurrent:"flipster__nav__item--current",navCategory:"flipster__nav__item--category",navCategoryLink:"flipster__nav__link--category",navPrev:"flipto-prev",navNext:"flipto-next",item:"flipster__item",itemCurrent:"flipster__item--current",itemPast:"flipster__item--past",itemFuture:"flipster__item--future",itemContent:"flipster__item__content"},n=new RegExp("\\b("+m.itemCurrent+"|"+m.itemPast+"|"+m.itemFuture+")(.*?)(\\s|$)","g");return this.each(function(){function b(){k.enableNavButtons&&z.length>1&&(E.find("."+m.navPrev+", ."+m.navNext).remove(),a('<a href="#" class="'+m.navPrev+'" role="button">'+k.prevText+"</a>").on("click",function(a){q("prev"),a.preventDefault()}).appendTo(E),a('<a href="#" class="'+m.navNext+'" role="button">'+k.nextText+"</a>").on("click",function(a){q("next"),a.preventDefault()}).appendTo(E))}function e(){if(k.enableNav&&!(z.length<=1)){E.find("."+m.nav).remove();var b={},d={},e={};z.each(function(){var f=a(this),g=f.data("flip-category"),h=f.attr("id"),i=f.data("flip-title")||f.attr("title");if(!d[h]){d[h]='<a href="#'+h+'" class="'+m.navLink+'">'+i+"</a>";var j='<li class="'+m.navItem+'">'+d[h]+"</li>";g!==c?(b[g]=g,e[g]||(e[g]=""),e[g]+=j):e[h]=j}});for(var f in b)e[f]='<li class="'+m.navItem+" "+m.navCategory+'"><a href="#" class="'+m.navLink+" "+m.navCategoryLink+'" data-flip-category="'+f+'">'+f+'</a><ul class="'+m.navChild+'">'+e[f]+"</ul></li>";var g='<ul class="'+m.nav+'" role="navigation">';for(var h in e)g+=e[h];g+="</ul>",A=a(g),"after"===k.navPosition.toLowerCase()?E.append(A):E.prepend(A),B=A.find("."+m.navItem),C=A.find("a").on("click",function(b){var c;c=a(this).hasClass(m.navCategoryLink)?z.filter('[data-flip-category="'+a(this).data("flip-category")+'"]').first():a(this.hash),c.length&&(q(c),b.preventDefault())})}}function g(){k.enableNav&&(B.removeClass(m.navCurrent),C.removeClass(m.navCurrent).filter('[href="#'+D.attr("id")+'"], [data-flip-category="'+D.data("flip-category")+'"]').parent().addClass(m.navCurrent))}function h(){E.css("transition","none"),x.css("transition","none"),z.css("transition","none")}function i(){E.css("transition",""),x.css("transition",""),z.css("transition","")}function j(){var b,c=0;return z.each(function(){b=a(this).height(),b>c&&(c=b)}),c}function o(b){b&&h(),y=x.width(),x.height(j()),0!==k.spacing?z.each(function(c){var d=a(this),e=d.outerWidth()*k.spacing;d.css("margin-right",e+"px"),c===z.length-1&&(p(),b&&i())}):(p(),b&&i())}function p(){var b=z.length;if(z.each(function(c){var d=a(this);d.attr("class",function(a,b){return b&&b.replace(n,"").trim()}),c===F?d.addClass(m.itemCurrent).css("z-index",b+1):F>c?d.addClass(m.itemPast+" "+m.itemPast+"-"+(F-c)).css("z-index",c):c>F&&d.addClass(m.itemFuture+" "+m.itemFuture+"-"+(c-F)).css("z-index",b-c)}),D){y||o(!0);var c=D.outerWidth(),d=D.position().left,e=-1*(d+c/2-y/2);f?x.css("transform","translateX("+e+"px)"):x.css({left:e+"px"})}g()}function q(a){var b=F;z.length<=1||("prev"===a?F>0?F--:k.loop&&(F=z.length-1):"next"===a?F<z.length-1?F++:k.loop&&(F=0):"number"==typeof a?F=a:a!==c&&(F=z.index(a)),F!==b&&k.onItemSwitch.call(E,z[F],z[b]),D=z.eq(F),p())}function r(a){var b=a||k.autoplayInterval;k.autoplayInterval=b,clearInterval(G),G=setInterval(function(){var a=F;q("next"),a!==F||k.loop||clearInterval(G)},b)}function s(){clearInterval(G),k.autoplay&&(G=-1)}function t(){o(!0),E.hide().css("visibility","").addClass(m.active).fadeIn(400)}function u(){z=x.find(k.itemSelector).addClass(m.item),z.length<=1||(z.each(function(){var b=a(this);b.children("."+m.itemContent).length||b.wrapInner('<div class="'+m.itemContent+'" />')}).on("click touchend",function(b){H||(a(this).hasClass(m.itemCurrent)||b.preventDefault(),q(this))}),b(),e(),F>=0&&q(F))}function v(){if(E.addClass([m.main,f?"flipster--transform":" flipster--no-transform",k.style?"flipster--"+k.style:"",k.disableRotation?"no-rotate":""].join(" ")).css("visibility","hidden"),x=E.find(k.itemContainer).addClass(m.container),u(),!(z.length<=1)){h(),k.start&&(F="center"===k.start?!z.length%2?z.length/2+1:Math.floor(z.length/2):k.start),q(F);var a=E.find("img");if(a.length){var b=0;a.on("load",function(){b++,b>=a.length&&t()}),setTimeout(t,500)}else t();l.on("resize.flipster",d(function(){o()},400)),k.autoplay&&r(),x.on("mouseenter",s).on("mouseleave",function(){-1===G&&r()}),k.enableKeyboard&&(new I.Keyboard).init(E),k.enableMousewheel&&(new I.Mousewheel).init(x),k.enableTouch&&(new I.Touch).init(x)}}var w,x,y,z,A,B,C,D,E=a(this),F=0,G=!1,H=!1,I={Keyboard:function(){this.init=function(a){a[0].tabIndex=0,a.on("keydown.flipster",d(function(a){var b=a.which;37===b?(q("prev"),a.preventDefault()):39===b&&(q("next"),a.preventDefault())},250,!0))}},Mousewheel:function(){var a,b,c=!1,e=0,f=0,g=0;this.init=function(h){h.on("mousewheel.flipster wheel.flipster",function(){c=!0}).on("mousewheel.flipster wheel.flipster",d(function(c){clearTimeout(f),f=setTimeout(function(){e=0,g=0},300),c=c.originalEvent,g+=c.wheelDelta||-1*(c.deltaY+c.deltaX),Math.abs(g)<25||(e++,a=g>0?"prev":"next",b!==a&&(e=0),b=a,(6>e||e%3===0)&&q(a),g=0)},50)),l.on("mousewheel.flipster wheel.flipster",function(a){c&&(a.preventDefault(),c=!1)})}},Touch:function(){var a,b,c,e,f=!1,g=d(q,300);this.init=function(h){h.on({"touchstart.flipster":function(a){a=a.originalEvent,H=a.touches?a.touches[0].clientX:a.clientX,f=a.touches?a.touches[0].clientY:a.clientY},"touchmove.flipster":d(function(d){H!==!1&&(d=d.originalEvent,a=d.touches?d.touches[0].clientX:d.clientX,b=d.touches?d.touches[0].clientY:d.clientY,c=b-f,e=a-H,Math.abs(c)<100&&Math.abs(e)>=30&&(g(0>e?"next":"prev"),H=a,d.preventDefault()))},100),"touchend.flipster touchcancel.flipster ":function(){H=!1}})}}};w={jump:q,next:function(){q("next")},prev:function(){q("prev")},play:function(){k.autoplay=!0,r()},pause:function(){k.autoplay=!1,s()},index:u},E.data("methods",w),E.hasClass(m.active)||v()})}}(jQuery,window);